@page "/logout"
@using Microsoft.AspNetCore.Authorization;
@attribute [Authorize]
@inherits LayoutComponentBase
@using OpenGitSync.Client.Services;
@using OpenGitSync.Client.Shared
@inject IAuthService AuthService
@inject NavigationManager NavigationManager

<div class="container">
    <LoadingIndicator loadingMessage="Logging out..." />
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AuthService.Logout();
        NavigationManager.NavigateTo("login");
    }
}