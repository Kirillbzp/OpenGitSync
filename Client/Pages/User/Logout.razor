@page "/logout"

@using Microsoft.AspNetCore.Authorization
@using OpenGitSync.Client.Services
@using OpenGitSync.Client.Shared

@inject IAuthService AuthService
@inject NavigationManager NavigationManager

@inherits LayoutComponentBase

@attribute [Authorize]

<div class="container">
    <LoadingIndicator loadingMessage="Logging out..." />
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AuthService.Logout();
        NavigationManager.NavigateTo("login");
    }
}